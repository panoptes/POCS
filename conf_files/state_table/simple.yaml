---
name: default
initial: sleeping
states:
  parking:
    tags: always_safe
  parked:
    tags: always_safe
  sleeping:
    tags: always_safe
  housekeeping:
    tags: always_safe
  ready:
    tags: always_safe
  scheduling:
    horizon: observe
  slewing:
    horizon: observe
  observing:
    horizon: observe
transitions:
  - source:
      - ready
      - scheduling
      - slewing
      - observing
    dest: parking
    trigger: park
  - source: parking
    dest: parked
    trigger: set_park
  - source: parked
    dest: housekeeping
    trigger: clean_up
  - source: housekeeping
    dest: sleeping
    trigger: goto_sleep
  - source: parked
    dest: ready
    trigger: get_ready
    conditions: mount_is_initialized
  - source: sleeping
    dest: ready
    trigger: get_ready
    conditions: mount_is_initialized
  - source: ready
    dest: scheduling
    trigger: schedule
  - source: scheduling
    dest: slewing
    trigger: start_slewing
  - source: scheduling
    dest: observing
    trigger: observe
    conditions: mount_is_tracking
  - source: slewing
    dest: observing
    trigger: observe
    conditions: mount_is_tracking
  - source: observing
    dest: scheduling
    trigger: schedule
